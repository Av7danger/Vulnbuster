"""
Webhook Auto-Exploit Trigger
Calls external URL to deploy payload on vuln detection.
Usage: --exploit-webhook URL
"""
import requests

def trigger_exploit(webhook_url, vuln_info):
    data = {'vuln': vuln_info}
    resp = requests.post(webhook_url, json=data)
    return resp.status_code == 200

def main():
    import argparse
    parser = argparse.ArgumentParser(description="Webhook Auto-Exploit Trigger")
    parser.add_argument('--exploit-webhook', metavar='URL', help='Webhook URL to trigger exploit')
    parser.add_argument('--vuln', required=True, help='Vulnerability info (string or JSON)')
    args = parser.parse_args()
    if args.exploit_webhook:
        ok = trigger_exploit(args.exploit_webhook, args.vuln)
        if ok:
            print("[+] Exploit webhook triggered successfully.")
        else:
            print("[!] Failed to trigger exploit webhook.")

if __name__ == "__main__":
    main() 